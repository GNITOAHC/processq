# queue (processq)

> A lightweight CLI tool for running and managing background processes as daemons. A simpler alternative to systemd or Docker when all you need is a long-running background task.

## Installation

Install via the quick install script:

    curl -LsSf https://raw.githubusercontent.com/GNITOAHC/processq/main/install.sh | sh

Or via Homebrew:

    brew tap gnitoahc/tap
    brew install gnitoahc/tap/queue

## Usage

    queue [flags] <command>

### Flags

- `-h, --help` - Show help message
- `-v, --version` - Show version / enable verbose output

### Commands

**Submit a task:**

    queue submit [OPTIONS] <command>
    queue sub [OPTIONS] <command>
    queue s [OPTIONS] <command>

Options:

- `-h, --help` - Show help message
- `-o, --out DIR` - Output directory for stdout/stderr logs
- `-r, --restart` - Restart the process automatically on exit

Runs the command as a background daemon. stdout and stderr are logged to timestamped files (e.g., `Mon_Jan_1_12:00:00_2025_out` and `Mon_Jan_1_12:00:00_2025_err`). By default, logs are written to the current directory unless `-o` is specified.

**List running processes:**

    queue list
    queue ls
    queue l

Shows all managed background processes with their index, PIDs, and commands.

**Stop a process:**

    queue stop <index>
    queue t <index>
    queue x <index>

Stops the process at the given index (from `queue list`).

**Restart a process:**

    queue restart <index>
    queue r <index>

Options:

- `-h, --help` - Show help message
- `-o, --out DIR` - Output directory for stdout/stderr logs
- `-r, --restart` - Restart the process automatically on exit

Restarts the process at the given index.

## State Files

Process state is stored in `~/.local/state/processq/`. Each managed process has a file named by its monitor PID containing the child PID and command.

## License

MIT License - Chao-Ting, Chen
